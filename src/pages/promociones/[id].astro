---
import hero_image from "/public/images/Promotions-hero.webp";
import Layout from "@/layouts/Layout.astro";
import { firms } from "@/libs/data/firms.ts";
import { mapIds } from "@/utils.ts";
import HeroPage from "@/components/HeroPage.astro";
import CardPromoDetails from "@/components/cards/CardPromoDetails.astro";

export function getStaticPaths() {
  return mapIds(firms);
}

const { id } = Astro.params;
---

<Layout title={`Promociones en ${firms[id].name}`}>
  <main class="min-h-[80vh]">
    <HeroPage hero_image={hero_image} titleLogo={firms[id].logoPromos} />
    <div class="flex justify-center w-full">
      <div
        class="flex flex-col items-center justify-start responsive-section margin-section w-full lg:gap-[40px] xs:gap-[30px] gap-[20px]"
      >
        {
          firms[id].promotions != null ? (
            firms[id].promotions?.map((promotion) => (
              <CardPromoDetails
                code={promotion.code}
                description={promotion.description}
                discount={promotion.discount}
                endDate={promotion.endDate}
              />
            ))
          ) : (
            <CardPromoDetails isNoPromo />
          )
        }
      </div>
    </div>
  </main>
</Layout>
